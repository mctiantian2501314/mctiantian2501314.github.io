</html>
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>代码地狱突围战</title>
    <style>
        /* 基础样式 */
        body {
            background: #000;
            color: #0f0;
            font-family: 'Courier New', monospace;
            position: relative;
            overflow-x: hidden;
            min-width: 320px;
            touch-action: manipulation;
            line-height: 1.5;
        }

        /* CRT 特效 */
        .crt-effect {
            position: fixed;
            top:0;
            left:0;
            width:100%;
            height:100%;
            background: repeating-linear-gradient(180deg, 
                rgba(0,255,0,0.05) 0, 
                rgba(0,255,0,0.05) 2px, 
                transparent 4px);
            pointer-events: none;
            z-index: 999;
        }

        /* 场景容器 */
        .scene {
            display: none;
            padding: 15px;
            border: 2px dashed #0f0;
            margin: 10px 5px;
            background: rgba(0,30,0,0.9);
            min-height: 80vh;
            box-sizing: border-box;
        }

        /* 分屏布局 */
        .split-screen {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin: 15px 0;
        }

        /* 文字特效 */
        .glitch-text {
            animation: glitch 1s infinite;
            text-shadow: 0 0 10px #0f0;
            font-size: 24px;
            text-align: center;
            padding: 0 10px;
        }

        @keyframes glitch {
            0%,100% { text-shadow: 2px 2px #ff00ff; }
            50% { text-shadow: -2px -2px #00ffff; }
        }

        /* 按钮样式 */
        button {
            background: #002200;
            border: 1px solid #0f0;
            color: #0f0;
            padding: 12px 20px;
            margin: 8px 0;
            font-size: 16px;
            cursor: pointer;
            width: 100%;
            box-sizing: border-box;
            transition: all 0.3s;
        }

        button:active {
            background: #004400;
            transform: scale(0.98);
        }

        /* 进度条 */
        #progress-bar {
            border:1px solid #0f0;
            height: 15px;
            margin: 10px 0;
        }

        #progress {
            background:#0f0;
            width:0%;
            height:100%;
            transition: width 0.5s linear;
        }

        /* 模态框 */
        #modal-overlay {
            display: none;
            position: fixed;
            top:0;
            left:0;
            width:100%;
            height:100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            touch-action: none;
        }

        .modal-box {
            position: relative;
            width: 90%;
            max-width: 600px;
            margin: 20px auto;
            padding: 15px;
            background: #002200;
            border: 2px solid #0f0;
            animation: modalIn 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);
            box-sizing: border-box;
        }

        /* 响应式调整 */
        @media (min-width: 768px) {
            .split-screen {
                grid-template-columns: 1fr 1fr;
                gap: 20px;
            }
            button {
                width: auto;
                min-width: 140px;
            }
            .scene {
                padding: 20px;
                margin: 10px;
            }
        }

        /* 移动端优化 */
        @media (max-width: 480px) {
            pre {
                font-size: 10px;
                white-space: pre-wrap;
                word-wrap: break-word;
            }
            .glitch-text {
                font-size: 20px;
            }
            .disordered-list li {
                transform: none !important;
                display: block;
                text-align: center;
                margin: 5px 0;
            }
        }

        /* 其他动画 */
        .shrink { animation: shrink 3s forwards; }
        @keyframes shrink { to { transform: scale(0.1); } }

        .chaos-char {
            display: inline-block;
            transition: all 0.3s;
            animation: charFloat 2s infinite;
        }

        @keyframes charFloat {
            0%,100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-2px) rotate(-2deg); }
            50% { transform: translateY(2px) rotate(2deg); }
            75% { transform: translateY(-1px) rotate(1deg); }
        }
    </style>
</head>
<body>
    <div class="crt-effect"></div>
    <h1 class="glitch-text">代码地狱突围战</h1>

    <!-- 模态框 -->
    <div id="modal-overlay" onclick="closeModal(event)">
        <div class="modal-box">
            <button onclick="closeModal(event)" 
                    style="position:absolute;top:5px;right:5px;padding:3px 8px;">×</button>
            <div id="modal-content" style="color:#0f0;max-height:70vh;overflow-y:auto;"></div>
        </div>
    </div>

    <!-- 场景1 -->
    <div id="scene1" class="scene">
        <div class="split-screen">
            <div>
                <p>🕹️ 林小北跪在包浆电竞椅上</p>
                <p>🔥 F5键插着老干妈泡面叉</p>
                <p>✨ 每次刷新掉落金元宝特效</p>
                <button onclick="showScene(2)">疯狂刷新贴吧</button>
            </div>
            <div>
                <pre style="color:#0f0">
   ░█▀▀█ █▀▀█ █▀▀▄ 
   ░█▄▄█ █▄▄█ █▀▀▄ 
   ░█░▒█ ▀░░▀ ▀▀▀░
                </pre>
            </div>
        </div>
    </div>

    <!-- 场景2 -->
    <div id="scene2" class="scene">
        <div class="split-screen">
            <div>
                <p>📝 标题栏：「真心求大佬！想要飞速中文的书源」</p>
                <p>🔥 电子香炉火星：「愿献祭室友桃花运」</p>
                <button onclick="showScene(3)">等待大佬回复</button>
            </div>
            <div>
                <pre style="color:#ff0">
   ╔══╗ ♪
   ║██║ ♫
   ║██║♫
   ║ ◎♫♪
   ╚══╝
                </pre>
            </div>
        </div>
    </div>

    <!-- 场景3 -->
    <div id="scene3" class="scene">
        <div class="split-screen">
            <div>
                <p>💥 吧友A拍案而起！</p>
                <p>🐛《新华字典》验证码倒计时：<span id="countdown">59</span>秒</p>
                <div id="progress-bar" style="border:1px solid #0f0;height:20px">
                    <div id="progress" style="background:#0f0;width:0%;height:100%"></div>
                </div>
                <button onclick="showScene(4)">尝试破解</button>
            </div>
            <div>
                <pre style="color:#f00">
  ░░░░░░░░░▄▄▄▄▄▄▄▄▄▄▄▄▄▄░░
  ░░░░░▄▄████████████████▄▄
  ░░▄██▀▀▀░░░░░░░░░░░░▀▀██▄
                </pre>
            </div>
        </div>
    </div>

    <!-- 场景4 -->
    <div id="scene4" class="scene">
        <div class="split-screen">
            <div>
                <p>💢 字体文件乱码瀑布</p>
                <p>👾 吃豆人正在吞噬代码</p>
                <button onclick="showScene(5)">继续拆解</button>
            </div>
            <div>
                <pre style="color:#0ff">
   ░░░█▀▀█ █▀▀█ █▀▀▄ 
   ░░░█▄▄█ █▄▄█ █▀▀▄ 
   ░░░█░▒█ ▀░░▀ ▀▀▀░
                </pre>
            </div>
        </div>
    </div>

    <!-- 场景5 -->
    <div id="scene5" class="scene">
        <div class="split-screen">
            <div>
                <p>🗿 甲骨文战士发言：</p>
                <pre style="color:#ff0">
   ■☰■☳■☲■
   ■商■周■甲■骨■
   ■斗■破■苍■穹■
                </pre>
                <button onclick="showScene(6)">尝试翻译</button>
            </div>
            <div>
                <pre style="color:#0f0">
   《剑来》二进制飞剑：
   01101010 01101001 
   01100001 01101110

   《十日》秦简：
   ░░░░░░░░░░░░░░░░░░░░░░░░
   ░░█▀▀░█▀█░█▀▄░█▀▀░▀█▀░░
   ░░▀▀█░█▀█░█▀▄░█░░░░█░░░
   ░░▀▀▀░▀░▀░▀░▀░▀▀▀░░▀░░░
   ░░░░░░█▄█░█░█░█▀▀░░░░░░
                </pre>
                <p style="color:#f00">※背景播放编钟版《爱情买卖》※</p>
            </div>
        </div>
    </div>

    <!-- 场景6 -->
    <div id="scene6" class="scene">
        <div class="split-screen">
            <div>
                <p>🌀 AES加密绞肉机启动</p>
                <pre style="color:#f00">
   ░▒▓███████▓▒░
   █ AES 处理器 █
   ░▼▼▼▼▼▼▼▼▼░
                </pre>
                <button onclick="showScene(7)">突破防火墙</button>
            </div>
            <div>
                <div class="chaos-directory">
                    <h2 style="color:#0ff">混乱的目录</h2>
                    <ul id="chaos-list" class="disordered-list">
                        <li><a>1. 第1章</a></li>
                        <li><a>3. 第3章</a></li>
                        <li><a>2. 第2章</a></li>
                        <li><a>5. 第5章</a></li>
                        <li><a>4. 第4章</a></li>
                    </ul>
                </div>
                <p onclick="showChaosModal()" 
                   style="cursor:pointer;color:#0ff;border:1px solid #0f0;padding:10px;margin-top:20px;">
                    📖 点击查看混乱正文
                </p>
            </div>
        </div>
    </div>

    <!-- 场景7 -->
    <div id="scene7" class="scene">
        <div class="split-screen">
            <div>
                <div id="captcha1">
                  <p>等待加载中...</p>
                    <p>请临摹《清明上河图》：</p>
                    <div style="height:100px;background:#130;"></div>
                    <button onclick="showCaptcha2()">随便画画</button>
                </div>
                <div id="captcha2" style="display:none">
                  <p>请输入"飞速中文垃圾网站"</p>
                    <input type="text" id="keyword" placeholder="输入神秘关键词">
                    <button onclick="validate()">提交验证</button>
                </div>
                <p id="counter" style="display:none">剩余尝试：3</p>
            </div>
            <div>
                <pre style="color:#f00">
   ▒▒▒▒▒▒▒▒▒▒▒▒▒▒
   ▒ 死亡验证系统 ▒
   ▒▒▒▒▒▒▒▒▒▒▒▒▒▒
                </pre>
            </div>
        </div>
    </div>

    <!-- 场景8 -->
    <div id="scene8" class="scene">
        <div class="split-screen">
            <div>
                <p>⚠️ 触发终极防御：</p>
                <ul>
                    <li>密钥藏在唐诗藏头诗</li>
                    <li>代码字符跳科目三</li>
                    <li>屏幕降级为1983春晚</li>
                </ul>
                <button onclick="showEnding('good')">最终决战</button>
            </div>
            <div>
                <pre style="color:#fff">
   ▒▒▒▒▒▒▒▒▒▒▒▒▒▒
   ▒ 杨教授の微笑 ▒
   ▒▒▒▒▒▒▒▒▒▒▒▒▒▒
                </pre>
            </div>
        </div>
    </div>

    <!-- 结局 -->
    <div id="good-ending" class="scene" style="display:none">
        <h2>🎉 破解成功！</h2>
        <p>飞速中文书源已获得，恭喜你成为大佬</p>
        </br>
<p>（仰视广角镜头：林小北跪在包浆电竞椅上，头顶LED灯带模拟佛光特效）  
沾着老干妈的泡面叉斜插在青轴键盘F5键上，蒸腾的雾气里漂浮着「功德+1」的Q版弹窗。他正以职业选手APM狂刷新贴吧，每次F5都掉落金元宝特效。
</p>
（特写：标题栏辣椒油滴落动画）  
「真心求大佬！想要飞速中文的的书源」  
正文区用颜文字画了电子香炉，动态火星烧着「愿献祭室友桃花运」的祈愿贴。
</br>
（俯视动态分镜：泡面汤泼出《进击的巨人》立体机动特效）  
ID"码到成功"的吧友A拍案而起，泡面叉子飞旋插入脉动瓶口：「看老子现场写爬虫！」  
（左右画中画：左屏代码瀑布流溢出《新华字典》乱码，右屏弹出死亡验证码）  
</br>
"请查第387页'饕餮'笔画数（剩余59秒）"  
当他手忙脚乱翻实体书时，代码生成的金色电子蟑螂正大快朵颐，对话框弹出颜文字：「(๑•̀ㅂ•́)و✧菜就多练练」

</br>
（分屏对比：左屏字体文件乱码，右屏吃豆人吞代码）  
二楼"字体侦探"甩出woff2文件截图：「这逼用随机字体加密！」  
<p>十六进制仙子突然用荧光弹幕刷屏：「GBK套Big5再套Unicode——核心在这！」  
（动态拆解：代码如俄罗斯套娃层层剥开，核心是竖中指的熊猫头表情包，附带打脸音效）</p>
</br>
四楼"甲骨文战士"插话：  
「您要的《斗破苍穹》在商周甲骨文里（配图龟甲纹路代码）  
《剑来》其实是二进制飞剑（0101组成御剑特效）  
至于《十日》...」  
（特写：屏幕显示秦简动态图，竹片拼出"傻了吧"三个小篆，背景响起编钟版《爱情买卖》）
五楼"套娃猎人"甩出动态流程图：  
「目录乱序（《鱿鱼游戏》迷宫通道）  
正文乱序（文字滚筒洗衣机特效）  
浇上AES加密酱料——」  
（特写：字符被塞进绞肉机，吐出来时戴着防毒面具）
六楼"防火墙舞者"惨叫：  
「这逼养的加了cf人机验证和验证码！」  
（动态演示：  
1. 点击搜索框弹出「请临摹《清明上河图》」  
2. 输入关键词触发IP封印术  
3. 错误三次后屏幕缩成硬币大小，飘出「别频繁搜索 你已经被封IP了」）
</br>
（俯视镜头：代码深渊展开成无限镜屋）  
十六进制仙子开启十六个虚拟机围攻，却发现：  
- AES密钥藏在《唐诗三百首》藏头诗  
- 每次接近关键代码，字符就跳起科目三  
- 终极防御：「检测到智商过高，启动降维打击」  
（她的4K屏突变成黑白雪花，飘出1983年春晚开场动画）
        <button onclick="location.reload()">重新开始</button>
    </div>

    <div id="bad-ending" class="scene" style="display:none">
        <h2>💀 猝死结局</h2>
        <pre style="color:#800">
   ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒
   ▒　R.I.P 1999-2023 ▒
   ▒ 　Code Never Die ▒
   ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒
        </pre>
        <button onclick="location.reload()">电击复活</button>
    </div>

    <script>
        let attempts = 3;
        let timer;
        const secretCode = "飞速中文垃圾网站";
        let touchStartX = 0;

        // 触摸事件处理
        document.addEventListener('touchstart', function(e) {
            touchStartX = e.touches[0].clientX;
        });

        document.addEventListener('touchend', function(e) {
            const touchEndX = e.changedTouches[0].clientX;
            const diffX = touchEndX - touchStartX;
            if (Math.abs(diffX) > 30) {
                const currentScene = getCurrentScene();
                if(diffX > 0 && currentScene > 1) showScene(currentScene-1);
                else if(diffX < 0 && currentScene < 8) showScene(currentScene+1);
            }
        });

        function getCurrentScene() {
            const activeScene = document.querySelector('.scene:not([style*="none"])');
            return parseInt(activeScene.id.replace('scene', ''));
        }

        // 输入框自动滚动
        document.querySelectorAll('input').forEach(input => {
            input.addEventListener('focus', () => {
                setTimeout(() => {
                    const rect = input.getBoundingClientRect();
                    window.scrollTo(0, rect.top + window.scrollY - 100);
                }, 300);
            });
        });

        // 场景管理
        function showScene(num) {
            document.querySelectorAll('.scene').forEach(s => s.style.display = 'none');
            const targetScene = document.getElementById(`scene${num}`);
            targetScene.style.display = 'block';
            
            if(num === 3) startCountdown();
            if(num === 6) initChaosList();
            window.scrollTo(0, 0);
        }

        // 初始化目录
        function initChaosList() {
            const list = document.getElementById('chaos-list');
            Array.from(list.children)
                .sort(() => Math.random() - 0.5)
                .forEach(li => {
                    li.style.transform = `rotate(${Math.random()*10-5}deg)`;
                    list.appendChild(li);
                });
        }

        // 模态框处理
        function showChaosModal() {
            const content = `
                <h3 style="color:#f0f">混乱正文</h3>
                <p>${generateChaosText('第一章 剑来：\n天地不仁以万物为刍狗\n代码不义以码农为燃料...\n𦷿𣞾𣛃𤰃……\n𡒊𦧕𦅑𩁓𠞐𩭡𩞊……\n\n    \n秋！\n\n    \n横滨𣹗𤾐𤰃溪𨕂𠯤𩽀……\n\n    \n𤾐𠶀𤃭𡎑𡠊𨐺𤾐𠶀婴𨡅跪𣞾溪𨕂𤾐𠯤……\n\n    \n“……𠴐𪄙𡳔……”\n\n    \n𦐯𧓰𣞾𤈏𪄙𦎧𢖅溺𧰘𧋾𤘓唯𤾐𣹗骨𤟂，𧗬默𧇯𠁥𠶓，𠅘婴𨡅𨲶𣞾𤾐𠶀𡍦桶𩐂𩃖……\n\n    \n溪𨔋缓缓𨕂淌，𡍦桶顺𨕂𦷿𣛞……\n\n    \n侍𤃭𪗂𨐺逐𦈉漂𨕂𣹗𡍦桶，𢵚𪚌𨭼𦼛𤾐𠁤𦌒绝，𥍱袖𥈫𦟄𨅑匕首，横𣞾脖颈𩐂𨆚！\n\n    \n鲜𪇟顺𨐺脖颈缓缓𨕂淌，侍𤃭𪀻𣢱𣹗瘫𢿼𣞾横滨𤾐𤰃𪄙𡻓𡜺𣹗溪𨕂𠯤𩽀……\n\n    \n𦷿𣞾𣛃𤰃……\n\n    \n𡆻皇𢴭饮𩗇横𨔋！\n\n    \n𡰔𣞾𤈏𡒊𦧕𦅑𩁓𠞐𩭡𩞊，𦁴𡒊𩘒𩘒𤾐𩐐𠶓𣛞！\n\n    \n𡆻皇𢴭嬴𦅑𢕦𡾘𨥡𥫝𦏲皇，功𦟋𠰦𢴭，𧢹𡆻皇𢴭，𠙪𩿰𠶓𣛞！\n\n    \n𥙹𪄙𦼛𩭡𥡹虽𩠏，𤘄𥡹𢁢𡒊𩐂𢖅𧱬𪄙𧰘！\n\n    \n𦁴𡒊𡜺𣢺𨆚虽𨐭𤾐𩐐𠶓𣛞，𧑰𩭡𥡹暗𡄦𩈙𣹗𧋾𧨲𡢐𧱬𤖔𨅑𪄙穷！\n\n    \n𩃠𣜥𨆚𨎶𢔄𤈏士𧉹𧑃盛𡖗𣹗𤐋𢳻，𤵅𠗞专诸，𢛉𧦘庆忌！\n\n    \n𦦒𠗞荆轲𤾐𠥂𡒊𦧕𦷿𡜺𨣚𠶓𣛞，虽𧰘犹荣！\n\n    \n针𠴐𡆻皇𢴭乃𥶤𦦝𪓂𣹗𦦒𢳻𣹗𠥂杀依𩆲𤖔𨅑𪄙穷！\n　　宋集薪蓦然哈哈大笑，用手指点了点陈平安，嬉皮笑脸道:“胆小如鼠，难怪寒门无贵子，莫说是这辈子贫贱任人欺，说不定下辈子也逃不掉。”\n\n　　二月二，龙抬头。\n　　暮色里，小镇名叫泥瓶巷的僻静地方，有位孤苦伶仃的清瘦少年，此时他正按照习俗，一手持蜡烛，一手持桃枝，照耀房梁、墙壁、木床等处，用桃枝敲敲打打，试图借此驱赶蛇蝎、蜈蚣等，嘴里念念有词，是这座小镇祖祖辈辈传下来的老话:二月二，烛照梁，桃打墙，人间蛇虫无处藏。\n　　旗下，你骗我。\n\n　　世世代代都只会烧瓷一事的小镇匠人，既不敢僭越烧制贡品官窑，也不敢将库藏瓷器私自贩卖给百姓，只得纷纷另谋出路，十四岁的陈平安也被扫地出门，回到泥瓶巷后，继续守着这栋早已破败不堪的老宅，差不多是家徒四壁的惨淡场景，便是陈平安想要当败家子，也无从下手。\n　　当了一段时间飘来荡去的孤魂野鬼，少年实在找不到挣钱的营生，靠着那点微薄积蓄，少年勉强填饱肚子，前几天听说几条街外的骑龙巷，来了个姓阮的外乡老铁匠，对外宣称要收七八个打铁的学徒，不给工钱，但管饭，陈平安就赶紧跑去碰运气，不曾想老人只是斜瞥了他一眼，就把他拒之门外，当时陈平安就纳闷，难道打铁这门活计，不是看臂力大小，而是看面相好坏？\n　　要知道陈平安虽然看着孱弱，但力气不容小觑，这是少年那些年烧瓷拉坯锻炼出来的身体底子，除此之外，陈平安还跟着姓姚的老人，跑遍了小镇方圆百里的山山水水，尝遍了四周各种土壤的滋味，任劳任怨，什么脏活累活都愿意做，毫不拖泥带水。可惜老姚始终不喜欢陈平安，嫌弃少年没有悟性，是榆木疙瘩不开窍，远远不如大徒弟刘羡阳，这也怪不得老人偏心，师父领进门，修行在个人，例如同样是枯燥乏味的拉坯，刘羡阳短短半年的功力，就抵得上陈平安辛苦三年的水准。\n\n你可是红中老大呀！\n\n　　虽然这辈子都未必用得着这门手艺，但陈平安仍是像以往一般，闭上眼睛，想象自己身前搁置有青石板和轱辘车，开始练习拉坯，熟能生巧。\n　　大概每过一刻钟，少年就会歇息稍许时分，抖抖手腕，如此循环反复，直\n　　陈平安放下新折的那根桃枝，吹灭蜡烛，走出屋子后，坐在台阶上，仰头望去，星空璀璨。\n　　少年至今仍然清晰记得，那个只肯认自己做半个徒弟的老师傅，姓姚，在去年暮秋时分的清晨，被人发现坐在一张小竹椅子上，正对着窑头方向，闭眼了。\n陈平安皱了皱眉头。\n　　不过如姚老头这般钻牛角尖的人，终究少数。\n　　宋集薪翻了个白眼，伸出一根手指，晃了晃，“白银一万两！”\n　　锦衣少年脸色如常，点头道:“好。”\n　　宋集薪见那少年不像是开玩笑的样子，连忙改口道:“是黄金万两！”\n　　到整个人彻底精疲力尽，陈平安这才起身，一边在院中散步，一边缓缓舒展筋骨。从来没有人教过陈平安这些，是他自己瞎琢磨出来的门道。\n　　天地间原本万籁寂静，陈平安听到一声刺耳的讥讽笑声，停下脚步，果不其然，看到那个同龄人蹲在墙头上，咧着嘴，毫不掩饰他的鄙夷神色。\n　　此人是陈平安的老邻居，据说更是前任监造大人的私生子，那位大人唯恐清流非议、言官弹劾，最后孤身返回京城述职，把孩子交由颇有私交情谊的接任官员，帮着看管照拂。如今小镇莫名其妙地失去官窑烧制资格，负责替朝廷监理窑务的督造大人，自己都泥菩萨过江自身难保了，哪里还顾得上官场同僚的私生子，丢下一些银钱，就火急火燎赶往京城打点关系。\n　　锦衣少年嘴角翘起，道:“逗你玩的。”\n　　宋集薪脸色阴沉。\n　　锦衣少年不再理睬宋集薪，偏移视线，望向陈平安，“今天多亏了你，我才能买到那条鲤鱼，买回去后，我越看越欢喜，想着一定要当面跟你道一声谢，于是就让吴爷爷带我连夜来找你。”\n　　他丢出一只沉甸甸的绣袋，抛给陈平安，笑脸灿烂道:“这是酬谢，你我就算两清了。”\n　　陈平安刚想要说话，锦衣少年已经转身离去。\n　　少女此时就站在院墙那边，她有一双杏眼，怯怯弱弱。\n　　院门那边，有个嗓音响起，“你这婢女卖不卖？”\n　　宋集薪愣了愣，循着声音转头望去，是个眉眼含笑的锦衣少年，站在院外，一张全然陌生的面孔。\n　　锦衣少年身边站着一位身材高大的老者，面容白皙，脸色和蔼，轻轻眯眼打量着两座毗邻院落的少年少女。\n　　老者的视线在陈平安一扫而过，并无停滞，但是在宋集薪和婢女身上，多有停留，笑意渐渐浓郁。\n　　不知不觉已经沦为弃子的邻居少年，日子倒是依旧过得优哉游哉，成天带着他的贴身丫鬟，在小镇内外逛荡，一年到头游手好闲，也从来不曾为银子发过愁。\n　　泥瓶巷家家户户的黄土院墙都很低矮，其实邻居少年完全不用踮起脚跟，就可以看到这边院子的景象，可每次跟陈平安说话，偏偏喜欢蹲在墙头上。\n　　相比陈平安这个名字的粗浅俗气，邻居少年就要雅致许多，叫宋集薪，就连与他相依为命的婢女，也有个文绉绉的称呼，稚圭。\n　　宋集薪斜眼道:“卖！怎么不卖！”\n　　那少年微笑道:“那你说个价。”\n　　少女瞪大眼眸，满脸匪夷所思，像一头惊慌失措的年幼麋鹿。\n　　陈平安默不作声。\n　　各自返回屋子，陈平安关上门，躺在坚硬的木板床上，贫寒少年闭上眼睛，小声呢喃道:“碎碎平，岁岁安，碎碎平安，岁岁平安……”\n　　-------------\n　　\n　　白天自己无意间看到有个中年人，提着只鱼篓走在大街上，捕获了一尾巴掌长短的金黄鲤鱼，它在竹篓里蹦跳得厉害，陈平安只瞥了一眼，就觉得很喜庆，于是开口询问，能不能用十文钱买下它，中年人本来只是想着犒劳犒劳自己的五脏庙，眼见有利可图，就坐地起价，狮子大开口，非要三十文钱才肯卖。囊中羞涩的陈平安哪里有这么多闲钱，又实在舍不得那条金灿灿的鲤鱼，就眼馋跟着中年人，软磨硬泡，想着把价格砍到十五文，哪怕是二十文也行，就在中年人有松口迹象的时候，锦衣少年和高大老人正好路过，他们二话不说，用五十文钱买走了鲤鱼和鱼篓，陈平安只能眼睁睁看着他们扬长而去，无可奈何。\n　　死死盯住那对爷孙愈行愈远的背影，宋集薪收回恶狠狠的眼神后，跳下墙头，似乎记起什么，对陈平安说道:“你还记得正月里的那条四脚吗？”\n　　ps1:雪中的一个近二十万字的番外在微信里面更新了，微信公众号是:fenghuo1985\n　　按照这座小镇传承数百年的风俗，如果有蛇类往自家屋子钻，是好兆头，主人绝对不要将其驱逐打杀。宋集薪在正月初一的时候，坐在门槛上晒太阳，然后就有只俗称四脚蛇的小玩意儿，在他的眼皮子底下往屋里窜，宋集薪一把抓住就往院子里摔出去，不曾想那条已经摔得七荤八素的四脚蛇，愈挫愈勇，一次次，把从来不信鬼神之说的宋集薪给气得不行，一怒之下就把它甩到了陈平安院子，哪里想到，宋集薪第二天就在自己床底下，看到了那条盘踞蜷缩起来的四脚蛇。\n　　ps2:还没上传就一百多位盟主，你们威武...\n　　ps3:好久不见，剑来！\n　　宋集薪察觉到少女扯了扯自己袖子。\n　　少年与她心有灵犀，下意识就将已经到了嘴边的话语，重新咽回肚子。\n　　他想说的是，那条奇丑无比的四脚蛇，最近额头上有隆起，如头顶生角。\n　　宋集薪换了一句话说出口，“我和稚圭可能下个月就要离开这里了。”\n　　陈平安叹了口气，“路上小心。”\n　　陈平安点了点头。\n　　怎么会不记得，简直就是记忆犹新。\n\n　　宋集薪半真半假道:“有些物件我肯定搬不走，你可别趁我家没人，就肆无忌惮地偷东西。”\n　　陈平安摇了摇头。\n少年姓陈，名平安，爹娘早逝。小镇的瓷器极负盛名，本朝开国以来，就担当起“奉诏监烧献陵祭器”的重任，有朝廷官员常年驻扎此地，监理官窑事务。无依无靠的少年，很早就当起了烧瓷的窑匠，起先只能做些杂事粗活，跟着一个脾气糟糕的半路师傅，辛苦熬了几年，刚刚琢磨到一点烧瓷的门道，结果世事无常，小镇突然失去了官窑造办这张护身符，小镇周边数十座形若卧龙的窑炉，一夜之间全部被官府勒令关闭熄火。')}</p>
            `;
            document.getElementById('modal-content').innerHTML = content;
            document.getElementById('modal-overlay').style.display = 'block';
        }

        function generateChaosText(text) {
    const colors = ['#ff0000', '#00ff00', '#0000ff', '#ff00ff', '#00ffff'];
    return text.split('')
        .map(c => `<span class="chaos-char" 
                    style="transform:rotate(${Math.random()*12-6}deg);
                           color:${colors[Math.floor(Math.random()*colors.length)]};
                           text-shadow:0 0 5px ${colors[Math.floor(Math.random()*colors.length)]}">
                    ${c}
                  </span>`)
        .join('');
}    function closeModal(e) {
        if(e.target === document.getElementById('modal-overlay') || e.target.tagName === 'BUTTON') {
            document.getElementById('modal-overlay').style.display = 'none';
        }
    }

    // 倒计时处理
    function startCountdown() {
        let count = 59;
        let progress = 0;
        clearInterval(timer);
        timer = setInterval(() => {
            document.getElementById('countdown').textContent = --count;
            progress = Math.min(100, progress + 1.7);
            document.getElementById('progress').style.width = progress + '%';
            if(count <= 0) {
                clearInterval(timer);
                showEnding('bad');
            }
        }, 1000);
    }

    // 验证处理
    function showCaptcha2() {
        document.getElementById('captcha1').style.display = 'none';
        document.getElementById('captcha2').style.display = 'block';
        document.getElementById('counter').style.display = 'block';
    }

    function validate() {
        const input = document.getElementById('keyword').value;
        if(input === secretCode) {
            showEnding('good');
        } else {
            if(--attempts <= 0) {
                document.body.classList.add('shrink');
                showEnding('bad');
            }
            document.getElementById('counter').textContent = `剩余尝试：${attempts}`;
        }
    }

    // 结局处理
    function showEnding(type) {
        clearInterval(timer);
        document.querySelectorAll('.scene').forEach(s => s.style.display = 'none');
        document.getElementById(`${type}-ending`).style.display = 'block';
    }

    // 初始化显示第一个场景
    showScene(1);
</script>
